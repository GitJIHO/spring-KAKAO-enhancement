<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <title>상품 페이지</title>
  <link rel="stylesheet" type="text/css" href="/css/styles.css">
</head>
<body>
<h1>상품 페이지</h1>
<form th:action="@{/admin/products/add}" th:object="${productRequest}" method="post" th:if="${product == null}">
  <h3>상품 추가</h3>
  <p>Name: <input type="text" th:field="*{name}"></p>
  <div th:if="${#fields.hasErrors('name')}" th:errors="*{name}">Name Error</div>
  <p>Price: <input type="number" th:field="*{price}"></p>
  <p>Image URL: <input type="text" th:field="*{img}"></p>
  <p><button type="submit">저장</button></p>
</form>
<form th:action="@{/admin/products/edit/{id}(id=${product.id})}" th:object="${productRequest}" method="post" th:if="${product != null}">
  <h3>상품 정보 수정</h3>
  <p>ID: <span th:text="${product.id}"></span></p>
  <p>Name: <input type="text" th:field="*{name}" th:value="${product.name}"></p>
  <div th:if="${#fields.hasErrors('name')}" th:errors="*{name}">Name Error</div>
  <p>Price: <input type="number" th:field="*{price}" th:value="${product.price}"></p>
  <p>Image URL: <input type="text" th:field="*{img}" th:value="${product.img}"></p>
  <p><button type="submit">저장</button></p>
</form>
<a href="/admin/products">뒤로 가기</a>
</body>
</html>
